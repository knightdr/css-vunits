/* CSSVUnits - Viewport relative units. Authors & copyright (c) 2013: WebLinc, David Knight. */
/* NOTE: Only supports native implementation of viewport units. This forces repaint so units resize as viewport changes. */

(function(b){var f=b.document,a=null,c=null,d=null,e=0,g=0,h=function(a){var b=d.length;c.insertRule(a+"{ z-index: 1; }",b);c.deleteRule(b)};b.CSSVUnits={styleSheet:[],add:function(a){if(!a)return-1;e=this.styleSheet.push(a);h(a);return e-1},remove:function(a){0<=a&&this.styleSheet.splice(a,1)},watch:function(){clearTimeout(g);g=setTimeout(function(){var a=e-1,c=a;if(!(0>a)){do h(b.CSSVUnits.styleSheet[c-a]);while(a--)}},10)},init:function(){a=f.createElement("style");a.type="text/css";a.id="CSSVUnit";
f.getElementsByTagName("head")[0].appendChild(a);"undefined"===typeof a.textContent&&!a.sheet&&!a.sheet.cssRules?a.parentNode.removeChild(a):(a.textContent="#CSSVUnit { width: 1vw; height: 1vh; }",c=a.sheet,d=c.cssRules,!d[0].style.width||!d[0].style.height?a.parentNode.removeChild(a):(b.addEventListener("resize",this.watch),b.addEventListener("orientationchange",this.watch)))}};CSSVUnits.init()})(window);
